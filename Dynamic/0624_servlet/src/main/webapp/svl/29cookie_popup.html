<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title>29cookie_popup.html</title>
		<script type="text/javascript">
		
			alert("쿠키 전체 : " + document.cookie);
			
			let notShowPop = false;
			if (document.cookie != "") {
				let cookieArr = document.cookie.split(";");
				//notShowPop=true; path=/;expires="+expireDate.toGMTString()을 ; 기준으로 자름
				alert("배열 : " + cookieArr);
				for (let i = 0; i < cookieArr.length; i++){
					alert("자르기 전 쿠키 하나 : " + cookieArr[i]);
					let coo = cookieArr[i].split("=");
					alert("자르기 후 쿠키 하나 : " + coo );
					if(coo[0].trim() == "notShowPop"){
						notShowPop = coo[1].trim();
					}
				}//for
				
			}//if
			
			
			if (notShowPop == "false") {
				window.open("29popup.html"
					, "pop_name"
					, "width=300, height=300, history=no, resizable=no, scrollbar=no, menubar=no");
			}
			
			function deleteCookie() {
				document.cookie="notShowPop=false;path=/;expires=-1";// 쿠키 삭제를 의미
				
/* 				document.cookie는 name=value 쌍으로 구성되고 쌍은 ;로 구분하며
				쌍 하나는 하나의 독립된 쿠키를 나타냄 
				'= 쿠키에 접근함
				notShowPop=false; --> 
				path=/; --> root의 페이지만 쿠키에 접근가능
				expires=-1 --> 유효일자를 설정하면 브라우저를 닫아도 쿠키가 삭제되지 않고, -1 경우 창닫으면 쿠키삭제 됨
*/				
			}
			//pop_name 객체이름 - 다른 옵션을 적용하기위에 사용하진 않지만 적용함.
		</script>
	</head>
	<body>
		<form>
			<button type="button" onclick="deleteCookie();"> 쿠 키 삭 제 </button>
		</form>
	</body>
</html>