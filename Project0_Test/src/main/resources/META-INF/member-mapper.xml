<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
	PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
	"http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="MemberMapper">


	<update id="member_update" parameterType="kr.co.sbsj.util.dto.MemberDTO">
	update member set member_pwd = #{member_pwd}, member_nick = #{member_nick}
	, member_addr1 = #{member_addr1}, member_addr2 = #{member_addr2}, member_addr3 = #{member_addr3}, email_agree = #{email_agree}, sms_agree = #{sms_agree}
	where member_name = #{member_name} and member_email = #{member_email} and member_phone = #{member_phone}
	</update>

	
	<select id="update_dto" parameterType="kr.co.sbsj.util.dto.MemberDTO" resultType="kr.co.sbsj.util.dto.UpdateDTO">
	select *
	from member
	where member_email = #{member_email} and member_pwd = #{member_pwd}
	</select>
	
	
	
	<select id="passwordCheck" parameterType="kr.co.sbsj.util.dto.MemberDTO" resultType="int">
	select count(*)
	from member
	where member_email = #{member_email} and member_pwd = #{member_pwd}
	</select>

	<select id="nickCheck" parameterType="java.lang.String" resultType="int">
	select count(member_nick) cnt
	from member
	where member_nick = #{member_nick}
	</select>
	
	
	<select id="emailCheck" parameterType="java.lang.String" resultType="int">
	select count(member_email) cnt
	from member
	where member_email = #{member_email}
	</select>
	
	<select id="phoneCheck" parameterType="java.lang.String" resultType="int">
	select count(member_phone) cnt
	from member
	where member_phone = #{member_phone}
	</select>

</mapper>
